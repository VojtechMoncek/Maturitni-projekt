<NewPage@Screen>:
    MDBottomNavigation:
        panel_color: .2, .2, .2, 1
        name: "NewPage"

        MDBottomNavigationItem:
            name: 'main'
            text: 'Sken'
            icon: 'camera'

            BoxLayout:
                orientation: "vertical"
                adaptive_height: True

                MDTopAppBar:

                    orientation: "horizontal"
                    title: "Skenování Qr kódu"
                    IconRightWidget:
                        icon: "camera"


                Camera:
                    id: camera
                    width: self.texture_size[0]
                    play: True
                    canvas.before:
                        PushMatrix
                        Rotate:
                            angle: -90
                            origin: self.center
                    canvas.after:
                        PopMatrix




        MDBottomNavigationItem:
            id: generate
            name: 'generate'
            text: 'Generovat'
            icon: 'qrcode'

            BoxLayout:
                orientation: "vertical"
                adaptive_height: True
                MDTopAppBar:
                    orientation: "horizontal"
                    title: "Generovat"
                    IconRightWidget:
                        icon: "qrcode"

                MDBoxLayout:
                    orientation: "vertical"
                    padding: "20dp"
                    adaptive_height: True
                    MDTextField:
                        id: input
                        on_text_validate: app.changeTexture(), app.openPopup("saveQr")
                        padding: "20dp"
                        pos_hint: {'center_x':0.5}
                        hint_text: "Text"
                        color: "Black"
                        size_hint_x: 1
                MDBoxLayout:
                    orientation: "vertical"
                    padding: "20dp"

                    Image:
                        id: generatedQr

                        size_hint: 1,1
                MDWidget:
                    size_hint: 1, 0.5










        MDBottomNavigationItem:
            name: 'history'
            text: 'Historie'
            icon: 'history'

            BoxLayout:
                orientation: "vertical"
                adaptive_height: True
                MDTopAppBar:
                    orientation: "horizontal"
                    title: "Historie"
                    IconRightWidget:
                        icon: "history"
                ScrollView:
                    MDBoxLayout:
                        id: history_content
                        orientation: "vertical"
                        padding: "24dp"
                        adaptive_height: True

                MDWidget:
                    size_hint: 1, 0.025

        MDBottomNavigationItem:
            name: 'newGenerate'
            text: 'Nastavení'
            icon: 'cog'

            BoxLayout:
                orientation: "vertical"
                adaptive_height: True
                MDTopAppBar:
                    orientation: "horizontal"
                    title: "Nastavení"
                    IconRightWidget:
                        icon: "cog"
                ScrollView:
                    MDBoxLayout:
                        orientation: "vertical"
                        padding: "24dp"
                        adaptive_height: True
                        MyHeader:
                            text: "Obecné"

                        MDBoxLayout:
                            adaptive_height: True
                            TwoLineListItem:
                                divider: None
                                text: "Používat běžnou čtečku qr kódů"
                                secondary_text: ""
                            MDSwitch:
                                id: StandardReading
                                md_bg_color: [0, 0, 0, 0]
                                pos_hint: {"center_y":0.4}
                                active: app.settings['StandardReading']
                                on_active: app.updateSettings()
#                        MyHeader:
#                            text: "Optimalizace"
#                        MDBoxLayout:
#                            adaptive_height: True
#                            TwoLineListItem:
#                                divider: None
#                                text: "Frekvence hledání Qr kódu"
#                                secondary_text: "Pro změnu je nutné restartovat aplikaci"
#                            MDTextField:
#                                id: FrameRate
#                                text: app.settings['FrameRate']
#                                pos_hint: {"center_y":0.4, "center_x":0.5}
#                                halign: "center"
#                                size_hint_x: 0.1

#                                on_text_validate: app.updateSettings()

                        #MDBoxLayout:
                        #    adaptive_height: True
                        #    TwoLineListItem:
                        #        divider: None
                        #        text: "Ahoj"
                        #        secondary_text: "Ahoj jak se mas"
                        #    MDTextField:
                        #        text: "aaa"
                        #        pos_hint: {"center_y":0.4}
                        #        size_hint_x: 0.1
                        #MDWidget:
                        #    size_hint: 1, 0.05
                        #MyHeader:
                        #    text: "Kamera"
                        #MDBoxLayout:
                        #    adaptive_height: True
                        #    TwoLineListItem:
                        #        divider: None
                        #        text: "Zapnout kameru"
                        #        secondary_text: "Zapne nebo vypne kameru"
                        #    MDSwitch:
                        #        pos_hint: {"center_y":0.4}
                        #MDBoxLayout:
                        #    adaptive_height: True
                        #    TwoLineListItem:
                        #        divider: None
                        #        text: "Zapnout kameru"
                        #        secondary_text: "Zapne nebo vypne kameru"
                        #    MDSwitch:
                        #        pos_hint: {"center_y":0.4}
                        #MDBoxLayout:
                        #    adaptive_height: True
                        #    TwoLineListItem:
                        #        divider: None
                        #        text: "Zapnout kameru"
                        #        secondary_text: "Zapne nebo vypne kameru"
                        #    MDSwitch:
                        #        pos_hint: {"center_y":0.4}





















<MySettingsCard@MDBoxLayout>
    MDBoxLayout:
        adaptive_height: True
        TwoLineListItem:
            divider: None
            text: "ahoj"
            secondary_text: "Ahoj jak se mas"
        MDSwitch:
            pos_hint: {"center_y":0.4}
<MyHeader@MDLabel>
    bold: True
    text: "Header"
    color: "gray"
    adaptive_height: True
<GeneratePage>:
    name: "generate"
    MDTopAppBar:
        title: "title"
    #MyHeader:
    FloatLayout:
        #size_hint_x: None

        MDTextField:
            id: input
            on_text_validate: app.changeTexture()

            pos_hint: {'center_x':0.5,'center_y': 0.85}
            hint_text: "Text"
            color: "Black"
            size_hint_x: 0.5

            AnchorLayout:
                padding: "40dp"
                on_touch_up: print("touch up")
                on_touch_down: print("touch down")
                #spacing: 100
                Button:
                    text: "aaaaaaaaaaaaaaaaa"

                    #id: generatedQr
                    on_touch_up: app.saveQrImage()
                    on_touch_up: print("touch up")
                    on_touch_down: print("touch down")



