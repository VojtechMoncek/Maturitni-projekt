<NewPage@Screen>:
    MDBottomNavigation:
        panel_color: .2, .2, .2, 1
        name: "NewPage"

        MDBottomNavigationItem:
            name: 'main'
            text: 'Sken'
            icon: 'camera'
            padding: "0dp"
            on_tab_touch_up: app.changePage(True)

            BoxLayout:
                orientation: "vertical"
                adaptive_height: True

                MDTopAppBar:
                    #orientation: "horizontal"
                    title: "Skenování Qr kódu"
                    right_action_items: [["camera"]]

                    #IconRightWidget:
                    #    icon: "camera"


                Camera:
                    id: camera
                    play: True

                    canvas.before:
                        PushMatrix
                        Rotate:
                            angle: -90
                            origin: self.center


                    canvas.after:
                        PopMatrix



        MDBottomNavigationItem:
            id: generate
            name: 'generate'
            text: 'Generovat'
            icon: 'qrcode'
            on_tab_touch_up: app.changePage(False)

            BoxLayout:
                orientation: "vertical"
                adaptive_height: True
                MDTopAppBar:
                    title: "Generovat"
                    right_action_items: [["qrcode"]]

                MDBoxLayout:
                    orientation: "vertical"
                    padding: "20dp"
                    adaptive_height: True
                    MDTextField:
                        id: input
                        on_text_validate: app.changeTexture(), app.openPopup("saveQr")
                        padding: "20dp"
                        pos_hint: {'center_x':0.5}
                        hint_text: "Text"
                        color: "Black"
                        size_hint_x: 1
                MDBoxLayout:
                    orientation: "vertical"
                    padding: "20dp"

                    Image:
                        id: generatedQr

                        size_hint: 1,1
                MDWidget:
                    size_hint: 1, 0.5



        MDBottomNavigationItem:
            name: 'history'
            text: 'Historie'
            icon: 'history'
            on_tab_touch_up: app.changePage(False)

            BoxLayout:
                orientation: "vertical"
                adaptive_height: True
                MDTopAppBar:
                    title: "Historie"
                    right_action_items: [["history"]]
                ScrollView:
                    MDBoxLayout:
                        id: history_content
                        orientation: "vertical"
                        padding: "24dp"
                        adaptive_height: True

                MDWidget:
                    size_hint: 1, 0.025

        MDBottomNavigationItem:
            name: 'newGenerate'
            text: 'Nastavení'
            icon: 'cog'
            on_tab_touch_up: app.changePage(False)

            BoxLayout:
                orientation: "vertical"
                adaptive_height: True
                MDTopAppBar:
                    title: "Nastavení"
                    right_action_items: [["cog"]]
                ScrollView:
                    MDBoxLayout:
                        orientation: "vertical"
                        padding: "24dp"
                        adaptive_height: True
                        MyHeader:
                            text: "Obecné"

                        MDBoxLayout:
                            adaptive_height: True
                            TwoLineListItem:
                                divider: None
                                text: "Používat běžnou čtečku qr kódů"
                                secondary_text: ""
                            MDSwitch:
                                id: StandardReading
                                pos_hint: {"center_y":0.4}
                                active: app.settings['StandardReading']
                                on_active: app.updateSettings()
#                        MyHeader:
#                            text: "Optimalizace"
#                        MDBoxLayout:
#                            adaptive_height: True
#                            TwoLineListItem:
#                                divider: None
#                                text: "Frekvence hledání Qr kódu"
#                                secondary_text: "Pro změnu je nutné restartovat aplikaci"
#                            MDTextField:
#                                id: FrameRate
#                                text: app.settings['FrameRate']
#                                pos_hint: {"center_y":0.4, "center_x":0.5}
#                                halign: "center"
#                                size_hint_x: 0.1

#                                on_text_validate: app.updateSettings()

                        #MDBoxLayout:
                        #    adaptive_height: True
                        #    TwoLineListItem:
                        #        divider: None
                        #        text: "Ahoj"
                        #        secondary_text: "Ahoj jak se mas"
                        #    MDTextField:
                        #        text: "aaa"
                        #        pos_hint: {"center_y":0.4}
                        #        size_hint_x: 0.1
                        #MDWidget:
                        #    size_hint: 1, 0.05
                        #MyHeader:
                        #    text: "Kamera"
                        #MDBoxLayout:
                        #    adaptive_height: True
                        #    TwoLineListItem:
                        #        divider: None
                        #        text: "Zapnout kameru"
                        #        secondary_text: "Zapne nebo vypne kameru"
                        #    MDSwitch:
                        #        pos_hint: {"center_y":0.4}
                        #MDBoxLayout:
                        #    adaptive_height: True
                        #    TwoLineListItem:
                        #        divider: None
                        #        text: "Zapnout kameru"
                        #        secondary_text: "Zapne nebo vypne kameru"
                        #    MDSwitch:
                        #        pos_hint: {"center_y":0.4}
                        #MDBoxLayout:
                        #    adaptive_height: True
                        #    TwoLineListItem:
                        #        divider: None
                        #        text: "Zapnout kameru"
                        #        secondary_text: "Zapne nebo vypne kameru"
                        #    MDSwitch:
                        #        pos_hint: {"center_y":0.4}




<MyHeader@MDLabel>
    bold: True
    text: "Header"
    color: "gray"
    adaptive_height: True



